## 定位Position

### 简介

定位是一种更加高级的布局手段，通过定位可以将元素摆放到页面的任意位置，可以使用`position`属性来设置定位，可选值有：`static`默认值，`relative`相对定位，`absolute`绝对定位，`fixed`固定定位，`sticky`粘滞定位。

### 相对定位

当元素的属性值设置为`relative`时开启了元素的相对定位，相对定位有如下的一些特点：

- 元素开启相对定位之后，如果不设置偏移量元素不会发生任何的变化。
- 相对定位是参照元素在文档流中的位置进行定位的。
- 相对定位会提升元素的层级。
- 相对定位不会使元素脱离文档流。
- 相对定位不会改变元素的性质，块还是块，行内还是行内。

#### 偏移量（offset）

当元素开启了定位以后，可以通过设置偏移量来设置元素的位置：

- top：定位的元素和定位位置的上边的距离。
- bottom：定位元素和定位位置的下边的距离。
- left：定位元素和定位位置的左侧的距离。
- right：定位元素和定位位置的右侧的距离。

### 绝对定位

当元素的`position`值设置为`absolute`时，则开启了元素的绝对定位，绝对定位的特点：

- 开启绝对定位后，如果不设置偏移量，元素的位置不会发生变化。
- 开启绝对定位后，元素会从文档流中脱离。
- 绝对定位会改变元素的性质，行内变成块，块的宽度被内容撑开。
- 绝对定位会使元素提升一个层级。
- 绝对定位是相对于其包含快进行定位的。

#### 包含块

- 正常情况下，包含块就是当前元素最近的祖先块元素。
- 绝对定位的包含块，就是离它最近的，开启了定位的祖先元素。如果所有的祖先元素都没有开启定位，那么根元素就是它的包含块。

### 固定定位

将元素的`position`属性设置为`fixed`则开启了元素的固定定位，固定定位是一种特殊的绝对定位，大部分特点和绝对定位一样，唯一不同的是固定定位永远参照于浏览器的视口进行定位。视口就是浏览器的可视窗口，固定定位的元素不会随网页的滚动条滚动。

### 粘滞定位

当元素的`position`属性设置为`sticky`时开启了元素的粘滞定位，粘滞定位和相对定位的特点基本一致，不同的是粘滞定位可以在元素到达某一个位置时将其固定。

### 绝对定位的元素的位置

当开启绝对定位之后，水平方向的布局等式就需要添加`left`和`right`两个值，水平方向的布局等式即：

```
left + margin-left + border-left + padding-left + width + padding-right + border-right + margin-right + right = 包含块的宽度
```

规则和之前一样，只是多了两个值，当发生过度约束时，如果等式中没有设置`auto`，则自动调整`right`的值，如果有`auto`，自动调整`auto`，可以设置为`auto`的值有`margin width left right`。

垂直方向等式也必须要满足：

```
top + margin-top + border-top + padding-top + height + padding-bottom + border-bottom + margin-bottom + bottom = 包含块的高度
```

### 元素的层级

对于开启了定位元素，可以通过`z-index`属性来指定元素的层级，需要一个整数作为参数，值越大元素层级越高，越优先显示，元素层级越高，如果元素层级一样，优先显示靠下的元素。注意，祖先元素的层级再高也不会盖住后代元素。